define([],function(){return{page:1,offset:20,init:function(){var t=this;$.getJSON("/photos/output.json",function(o){t.render(t.page,o),t.scroll(o)})},render:function(t,o){var e=(t-1)*this.offset,n=t*this.offset;if(!(e>=o.length)){for(var r="",i=e;i<n&&i<o.length;i++)r+='<li><div class="img-box"><a class="img-bg" rel="example_group" href="http://omv80z582.bkt.clouddn.com/'+o[i]+'?raw=true"></a><img lazy-src="http://omv80z582.bkt.clouddn.com/'+o[i]+'?raw=true" src="http://omv80z582.bkt.clouddn.com/'+o[i]+'?raw=true" style="display: block;"></li>';$(".img-box-ul").append(r),$(".img-box-ul").lazyload(),$("a[rel=example_group]").fancybox()}},scroll:function(t){var o=this;$(window).scroll(function(){var e=window.pageYOffset,n=e+window.innerHeight,r=$(".instagram").offset().top+$(".instagram").height();r>=e&&r<n+0&&o.render(++o.page,t)})}}});